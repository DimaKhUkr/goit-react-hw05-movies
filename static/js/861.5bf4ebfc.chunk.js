"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[861],{344:function(e,r,t){t.d(r,{s:function(){return i}});var n=t(689),a=t(87),s=t(184),i=function(e){var r=e.films,t=(0,n.TH)();return r.map((function(e){return(0,s.jsx)("ul",{children:(0,s.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.title?(0,s.jsxs)("li",{children:[" ",e.title]}):(0,s.jsx)("li",{children:e.name})})},e.id)}))}},861:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var n=t(531),a=t(439),s=t(687),i=t.n(s),u=t(85),c="edf9b0cc9ad38910cb90dc25085b494b";function o(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(i().mark((function e(r){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:c,query:r}),e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/search/movie?".concat(t));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("\u041a\u0430\u043a\u0430\u044f \u0442\u043e \u0431\u0435\u0434\u0430 404");case 7:return e.next=9,n.json();case 9:if(!(!(a=e.sent).total_results>0)){e.next=12;break}throw new Error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e");case 12:return e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(1),u.Am.error(e.t0.message,{autoClose:3e3,hideProgressBar:!0});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var l=t(344),m=t(413),p=t(134),h=t(184);function d(e){var r=e.DataHandleSubmit,t=(0,p.cI)(),n=t.register,a=t.handleSubmit,s=t.formState.errors;return(0,h.jsxs)("form",{onSubmit:a(r),children:[(0,h.jsx)("input",(0,m.Z)({},n("filmName",{required:!0}))),s.filmName&&(0,h.jsx)("span",{children:"This field is required"}),(0,h.jsx)("input",{type:"submit"})]})}var v=t(791),x=t(87),b=function(){var e,r=(0,x.lr)(),t=(0,a.Z)(r,2),s=t[0],u=t[1],c=null!==(e=s.get("filmName"))&&void 0!==e?e:"",f=(0,v.useState)(""),m=(0,a.Z)(f,2),p=m[0],b=m[1],w=(0,v.useState)(""),j=(0,a.Z)(w,2),k=j[0],S=j[1];return(0,v.useEffect)((function(){c&&b(c)}),[c]),(0,v.useEffect)((function(){function e(){return e=(0,n.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(r);case 2:t=e.sent,S(t.results),console.log(t);case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}p&&(!function(r){e.apply(this,arguments)}(p),b(""))}),[p]),(0,h.jsxs)("main",{children:[(0,h.jsx)(d,{DataHandleSubmit:function(e){var r=e.filmName;return u(e),b(r)}}),k&&(0,h.jsx)(l.s,{films:k})]})}}}]);
//# sourceMappingURL=861.5bf4ebfc.chunk.js.map